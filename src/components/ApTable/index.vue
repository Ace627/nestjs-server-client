<template>
  <el-table
    highlight-current-row
    :data="records"
    class="custom-table"
    v-loading="loading"
    element-loading-text="æ­£åœ¨åŠ è½½..."
    element-loading-background="rgba(122, 122, 122, 0.8)"
    empty-text="æš‚æ—¶æ²¡æœ‰æ•°æ®å“ŸğŸŒ»"
  >
    <el-table-column v-for="(column, index) in columns" :key="index" v-bind="column">
      <template v-if="column.slot" #default="{ $index, row }">
        <slot :name="column.slot" :$index :row></slot>
      </template>
    </el-table-column>
  </el-table>
</template>

<script setup lang="ts">
defineOptions({ name: 'ApTable' })

const props = defineProps({
  /** æ•°æ®æ•°ç»„ */
  records: { type: Array, required: true },
  /** è¡¨æ ¼åˆ—çš„é…ç½®æè¿° å…·ä½“é¡¹è§ https://element-plus.org/zh-CN/component/table.html#table-column-api */
  columns: { type: Array as PropType<Recordable>, required: true },
  /** è¡¨æ ¼æ•°æ®çš„è¯·æ±‚åŠ è½½æ€ */
  loading: { type: Boolean, default: false },
})
</script>

<style lang="scss" scoped></style>
